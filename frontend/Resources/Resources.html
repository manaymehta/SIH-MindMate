<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindMate - Resources Hub (React)</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">
   
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-bg': '#f5f5dc',
                        'accent-green': '#8BC34A',
                        'accent-blue': '#ADD8E6',
                        'accent-brown': '#5C4033',
                        'accent-yellow': '#FFF9C4',
                        'stone-800': '#292524',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Poppins', 'sans-serif'],
                        urdu: ['Noto Nastaliq Urdu', 'serif']
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>
   
    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // --- Data ---
        const allResources = [
            { id: 101, type: 'Blog', topic: 'Anxiety', author: 'Dr. Ananya Sharma', content: { en: 'Exam season can be incredibly stressful. Learn how to stay calm and focused with these simple, science-backed mindfulness exercises that you can do anywhere, anytime. A real article would have much more content here for the user to read.', ur: 'امتحانات کا موسم ناقابل یقین حد تک دباؤ والا ہو سکتا ہے۔ ان آسان، سائنس سے ثابت شدہ ذہن سازی کی مشقوں کے ساتھ پرسکون اور مرکوز رہنا سیکھیں جو آپ کہیں بھی، کسی بھی وقت کر سکتے ہیں۔', ks: 'امتحانٕک موسم چھُ واریاہ تناو وول آسِتھ ہیٛکِت۔ ییٚلہِ زن پرسکون تہٕ مرکوز روزنُک طریقہٕ ہیٚچھِو یِمن سٲدٕ، سائنس پؠٹھ مبنی ذہن سازی ہنٛد مشقو سٟتؠ یم توٚہہِ کتھِی تہِ، کُنِی تہِ وقتس پؠٹھ کٔرِتھ ہیٚکِو۔' }, title: { en: 'Navigating Exam Anxiety: 5 Mindfulness Techniques', ur: 'امتحان کی بے چینی پر قابو پانا: ذہن سازی کی 5 تکنیکیں', ks: 'امتحانٕچ پریشٲنی ہنٛد انتظام: 5 ذہن سازی ہنٛدؠ تکنیک' } },
            { id: 102, type: 'Blog', topic: 'General Wellness', author: 'Dr. Sameer Khan', content: { en: 'The transition to college is a huge step. Discover key strategies for building mental resilience to handle homesickness, new social circles, and academic challenges.', ur: 'کالج میں منتقلی ایک بہت بڑا قدم ہے۔ گھر کی یاد، نئے سماجی حلقوں، اور تعلیمی چیلنجوں سے نمٹنے کے لیے ذہنی لچک پیدا کرنے کی کلیدی حکمت عملی دریافت کریں۔', ks: 'کالجس مَنٛز تبدیلی چھُ اَکھ بوٚڈ قدم۔ گھرٕچ یاد، نٔوِسماجی حلقہٕ، تہٕ تعلیمی چیلنجو سٟتؠ نمٹنہٕ خٲطرٕ ذہنی لچک بناونٕکؠ کلیدی حکمت عملی دریافت کٔرِو۔' }, title: { en: 'Building Resilience in Your First Year of College', ur: 'کالج کے پہلے سال میں لچک پیدا کرنا', ks: 'کالجک گۄڈنِس ورِس مَنٛز لچک پٲدٕ کرٕنؠ' } },
            { id: 1, title: 'Mental Health Guidebook (PDF)', type: 'PDF', topic: 'General Wellness', link: 'https://www.globalfamilydoctor.com/site/DefaultSite/filesystem/documents/resources/MHGuidebook-EBookDownload.pdf', description: 'A comprehensive guidebook for mental health from the World Organization of Family Doctors.' },
            { id: 2, title: 'WHO Mental Health Policy Guide (PDF)', type: 'PDF', topic: 'General Wellness', link: 'https://apps.who.int/iris/bitstream/handle/10665/42823/9241562579.pdf', description: 'Official policy and service guidance for mental health from the World Health Organization.' },
            { id: 5, title: 'Therapy in a Nutshell - Free Resources', type: 'Worksheet', topic: 'Self-Help', link: 'https://courses.therapyinanutshell.com/free-resources', description: 'A collection of free courses and worksheets covering skills to manage emotions.' },
            { id: 8, title: 'NHS Mental Wellbeing Audio Guides', type: 'Audio', topic: 'Mindfulness', link: 'https://www.nhs.uk/mental-health/self-help/guides-tools-and-activities/mental-wellbeing-audio-guides/', description: 'A series of audio guides from the NHS to help you cope with low mood, anxiety and stress.' },
            { id: 10, title: 'What is Mental Health?', type: 'Video', topic: 'General Wellness', link: 'https://youtu.be/XsdHkGth6Ec', description: 'A brief, informative video from the CDC explaining the basics of mental health.' },
            { id: 11, title: 'Anxiety vs. Stress', type: 'Video', topic: 'Anxiety', link: 'https://youtu.be/KxkZjr2pvRA', description: 'Learn about the connection and differences between anxiety, stress, and depression.' },
            { id: 13, title: 'Kashmiri Instrumental Music for Relaxation', type: 'Video', topic: 'Mindfulness', link: 'https://youtu.be/rFmsBctRFnA', description: 'Soothing and calm music for relaxation, focus, or meditation.' },
            { id: 17, title: 'Centre for Clinical Interventions', type: 'Worksheet', topic: 'Self-Help', link: 'https://www.cci.health.wa.gov.au/resources/looking-after-yourself', description: 'A large collection of modules and worksheets for various mental health conditions.' },
        ];

        const typeIcons = {
            Blog: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>`,
            PDF: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg>`,
            Worksheet: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>`,
            Audio: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" /></svg>`,
            Video: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>`,
            Article: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>`
        };

        const GlobalStyles = () => {
            useEffect(() => {
                const style = document.createElement('style');
                style.textContent = `
                    body { font-family: 'Inter', sans-serif; background-color: #f5f5dc; color: #292524; }
                    ::-webkit-scrollbar { width: 8px; }
                    ::-webkit-scrollbar-track { background: #f5f5dc; }
                    ::-webkit-scrollbar-thumb { background: #dcd8c0; border-radius: 10px; }
                    ::-webkit-scrollbar-thumb:hover { background: #c9c4ae; }
                    .font-urdu { font-family: 'Noto Nastaliq Urdu', serif; direction: rtl; }
                    .resource-card, .filter-btn { transition: all 0.3s ease-in-out; }
                    .prose { max-width: 100%; }
                `;
                document.head.appendChild(style);
                return () => { document.head.removeChild(style); };
            }, []);
            return null;
        };

        const Header = () => (
            <header className="flex justify-between items-center mb-12">
                <a href="home.html" className="flex items-center space-x-4 transition-transform duration-300 hover:scale-105" aria-label="Back to Home">
                    <object data="MindMate.png" type="image/png" className="h-16 w-16">
                        <svg className="h-16 w-16 text-accent-brown" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50,5 C74.85,5 95,25.15 95,50 C95,74.85 74.85,95 50,95 C25.15,95 5,74.85 5,50 C5,33.4 16.8,19.3 31.8,15.7 C30.6,18.4 30,21.6 30,25 C30,41.57 43.43,55 60,55 C67.5,55 74.2,52.2 79.1,48.1 C88.5,55.9 95,66.9 95,79 C95,81.21 94.79,83.35 94.4,85.4 C88.2,91.5 80,95 71,95 C54.43,95 40,81.57 40,65 C40,61.9 40.4,59 41.2,56.3 C30.7,56.1 22,47.3 22,37 C22,34.8 22.3,32.7 22.9,30.7 C14.3,34.9 8.5,43.3 8.5,53 C8.5,59.9 12.3,66 18,69.1" fill="#8BC34A" fillOpacity="0.6"/><circle cx="60" cy="35" r="20" fill="#ADD8E6" fillOpacity="0.7"/></svg>
                    </object>
                    <span className="font-display font-bold text-3xl text-accent-brown">Resources Hub</span>
                </a>
                <a href="home.html" className="hidden sm:inline-block bg-white/80 text-accent-brown font-semibold py-2 px-4 rounded-lg shadow-sm hover:shadow-md transition">Back to Home</a>
            </header>
        );

        const ResourceCard = ({ resource, onReadMore }) => {
            const isBlog = resource.type === 'Blog';
            const title = isBlog ? resource.title.en : resource.title;
            const description = resource.description || `By ${resource.author}`;

            return (
                <div className="resource-card bg-white/80 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1.5 p-6 flex flex-col">
                    <div className="flex-grow">
                        <div className="flex justify-between items-start">
                            <p className="text-xs font-semibold bg-accent-blue/20 text-accent-brown py-1 px-2 rounded-full">{resource.topic}</p>
                            <div className="text-stone-400" dangerouslySetInnerHTML={{ __html: typeIcons[resource.type] || typeIcons['Article'] }} />
                        </div>
                        <h3 className="font-display text-lg font-semibold text-stone-800 mt-3">{title}</h3>
                        <p className="text-sm text-stone-600 mt-1">{description}</p>
                    </div>
                    {isBlog ? (
                        <button onClick={() => onReadMore(resource)} className="mt-4 text-accent-green font-semibold hover:underline text-left">Read Article</button>
                    ) : (
                        <a href={resource.link} target="_blank" className="mt-4 inline-block text-accent-green font-semibold hover:underline no-underline">Access Resource</a>
                    )}
                </div>
            );
        };

        const FeaturedCard = ({ resource, onReadMore }) => (
            <div onClick={() => onReadMore(resource)} className="resource-card bg-white/80 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1.5 p-6 flex flex-col cursor-pointer">
                <div className="flex-grow">
                    <p className="text-xs font-semibold bg-accent-blue/20 text-accent-brown py-1 px-2 rounded-full w-min whitespace-nowrap">{resource.topic}</p>
                    <h3 className="font-display text-xl font-semibold text-stone-800 mt-3">{resource.title.en}</h3>
                    <p className="text-sm text-stone-600 mt-2">{resource.content.en.substring(0, 100)}...</p>
                </div>
                <span className="mt-4 text-accent-green font-semibold hover:underline">Read Full Article &rarr;</span>
            </div>
        );

        const BlogModal = ({ post, onClose }) => {
            if (!post) return null;

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm" onClick={onClose}>
                    <div className="bg-primary-bg w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col transform transition-all duration-300 animate-fade-in-up" onClick={e => e.stopPropagation()}>
                        <div className="flex justify-between items-center p-6 border-b border-stone-300">
                            <div>
                                <h2 className="font-display text-2xl font-bold text-stone-800">{post.title.en}</h2>
                                <p className="text-sm text-stone-500 mt-1">By {post.author}</p>
                            </div>
                            <button onClick={onClose} className="flex-shrink-0 text-stone-500 hover:text-stone-800" aria-label="Close">
                                <svg className="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" /></svg>
                            </button>
                        </div>
                        <div className="p-6 sm:p-8 overflow-y-auto prose max-w-none">
                            <div className="text-stone-700 space-y-4">
                                <p>{post.content.en}</p>
                                <div className="p-4 bg-accent-yellow/50 border-l-4 border-accent-yellow rounded-r-lg">
                                    <h3 className="font-bold font-urdu text-lg">اردو ترجمہ</h3>
                                    <p className="font-urdu">{post.content.ur}</p>
                                </div>
                                <div className="p-4 bg-accent-blue/20 border-l-4 border-accent-blue rounded-r-lg">
                                    <h3 className="font-bold font-urdu text-lg">کٲشُر تَرجَمہ</h3>
                                    <p className="font-urdu">{post.content.ks}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        function App() {
            const [searchTerm, setSearchTerm] = useState('');
            const [activeFilter, setActiveFilter] = useState('All');
            const [selectedPost, setSelectedPost] = useState(null);

            const topics = useMemo(() => ['All', ...new Set(allResources.map(r => r.topic))], []);
            const featuredPosts = useMemo(() => allResources.filter(r => r.type === 'Blog'), []);

            const filteredResources = useMemo(() => {
                let resources = allResources.filter(r => r.type !== 'Blog');
               
                if (activeFilter !== 'All') {
                    resources = resources.filter(r => r.topic === activeFilter);
                }

                if (searchTerm) {
                    const lowercasedTerm = searchTerm.toLowerCase();
                    resources = allResources.filter(r =>
                        (r.title.en || r.title).toLowerCase().includes(lowercasedTerm) ||
                        (r.description || r.author || '').toLowerCase().includes(lowercasedTerm) ||
                        r.topic.toLowerCase().includes(lowercasedTerm)
                    ).filter(r => r.type !== 'Blog');
                }

                return resources;
            }, [searchTerm, activeFilter]);
           
            const handleFilterClick = (topic) => {
                setSearchTerm('');
                setActiveFilter(topic);
            };

            return (
                <React.Fragment>
                    <GlobalStyles />
                    <div className="max-w-6xl mx-auto p-4 sm:p-8">
                        <Header />
                        <main>
                            <section className="mb-12 text-center">
                                <h1 className="font-display text-4xl font-bold text-stone-800 animate-fade-in-up">Knowledge & Support</h1>
                                <p className="text-lg text-stone-600 mt-2 max-w-2xl mx-auto animate-fade-in-up" style={{ animationDelay: '100ms' }}>
                                    Explore articles, tools, and media to help you on your mental wellness journey.
                                </p>
                            </section>
                           
                            <section className="mb-16">
                                <h2 className="font-display text-2xl font-bold text-stone-800 mb-6">Featured Articles</h2>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    {featuredPosts.map(post => <FeaturedCard key={post.id} resource={post} onReadMore={setSelectedPost} />)}
                                </div>
                            </section>

                            <section>
                                <div className="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
                                    <h2 className="font-display text-2xl font-bold text-stone-800">All Resources</h2>
                                    <div className="w-full sm:w-auto flex-grow sm:flex-grow-0 max-w-sm">
                                        <input
                                            type="text"
                                            value={searchTerm}
                                            onChange={e => { setSearchTerm(e.target.value); setActiveFilter('All'); }}
                                            placeholder="Search all resources..."
                                            className="w-full bg-white border border-stone-300 rounded-full py-2 px-5 focus:outline-none focus:ring-2 focus:ring-accent-green transition shadow-sm"
                                        />
                                    </div>
                                </div>
                                <div className="flex flex-wrap gap-2 mb-8">
                                    {topics.map(topic => (
                                        <button
                                            key={topic}
                                            onClick={() => handleFilterClick(topic)}
                                            className={`filter-btn px-4 py-1.5 text-sm font-semibold rounded-full border-2  hover:border-accent-brown ${activeFilter === topic ? 'bg-accent-brown text-white border-accent-brown' : 'bg-white/80 text-stone-700 border-stone-300'}`}
                                        >
                                            {topic}
                                        </button>
                                    ))}
                                </div>
                                {filteredResources.length > 0 ? (
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {filteredResources.map(resource => <ResourceCard key={resource.id} resource={resource} onReadMore={setSelectedPost} />)}
                                    </div>
                                ) : (
                                    <p className="text-center text-stone-500 mt-10">No resources found matching your search.</p>
                                )}
                            </section>
                        </main>
                    </div>
                    <BlogModal post={selectedPost} onClose={() => setSelectedPost(null)} />
                </React.Fragment>
            );
        }

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>